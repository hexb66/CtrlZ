# CtrlZ package configuration file (generated by configure_file @ONLY)

include(CMakeFindDependencyMacro)
find_dependency(nlohmann_json REQUIRED)

# Load imported targets (provides CtrlZ::CtrlZ)
include("${CMAKE_CURRENT_LIST_DIR}/CtrlZTargets.cmake")

# Resolve package prefix from this file location: <prefix>/lib/cmake/CtrlZ
get_filename_component(_CTRLZ_PREFIX "${CMAKE_CURRENT_LIST_DIR}/../../.." ABSOLUTE)

set(CtrlZ_INCLUDE_DIRS "${_CTRLZ_PREFIX}/include/CtrlZ")
set(CtrlZ_LIBRARY_DIRS "${_CTRLZ_PREFIX}/lib")
set(CtrlZ_VERSION "@CtrlZ_VERSION@")

if(NOT DEFINED ONNXRUNTIME_ROOT)
    set(ONNXRUNTIME_ROOT "@ONNXRUNTIME_ROOT@" CACHE PATH "ONNX Runtime root directory")
endif()

if(NOT EXISTS "${ONNXRUNTIME_ROOT}")
    if(WIN32)
        set(ONNXRUNTIME_ROOT "C:/ProgramFiles/lib/onnxruntime" CACHE PATH "ONNX Runtime root directory" FORCE)
    elseif(UNIX)
        set(ONNXRUNTIME_ROOT "/usr/local" CACHE PATH "ONNX Runtime root directory" FORCE)
    endif()
endif()

if(EXISTS "${ONNXRUNTIME_ROOT}/include")
    set(CtrlZ_ONNXRUNTIME_INCLUDE_DIRS "${ONNXRUNTIME_ROOT}/include")
endif()

if(@USE_ONNXRUNTIME_GPU_VALUE@)
    if(WIN32)
        if(EXISTS "${ONNXRUNTIME_ROOT}/lib/onnxruntime.lib")
            set(CtrlZ_ONNXRUNTIME_LIBRARIES
                "${ONNXRUNTIME_ROOT}/lib/onnxruntime.lib"
                "${ONNXRUNTIME_ROOT}/lib/onnxruntime_providers_shared.lib"
            )
        endif()
    elseif(UNIX)
        if(EXISTS "${ONNXRUNTIME_ROOT}/lib/libonnxruntime.so")
            set(CtrlZ_ONNXRUNTIME_LIBRARIES
                "${ONNXRUNTIME_ROOT}/lib/libonnxruntime.so"
                "${ONNXRUNTIME_ROOT}/lib/libonnxruntime_providers_shared.so"
            )
        endif()
    endif()
else()
    if(WIN32)
        if(EXISTS "${ONNXRUNTIME_ROOT}/lib/onnxruntime.lib")
            set(CtrlZ_ONNXRUNTIME_LIBRARIES
                "${ONNXRUNTIME_ROOT}/lib/onnxruntime.lib"
            )
        endif()
    elseif(UNIX)
        if(EXISTS "${ONNXRUNTIME_ROOT}/lib/libonnxruntime.so")
            set(CtrlZ_ONNXRUNTIME_LIBRARIES
                "${ONNXRUNTIME_ROOT}/lib/libonnxruntime.so"
            )
        endif()
    endif()
endif()

# Propagate ONNX Runtime to consumers because CtrlZ public headers include onnxruntime_cxx_api.h
if(TARGET CtrlZ::CtrlZ)
    if(DEFINED CtrlZ_ONNXRUNTIME_INCLUDE_DIRS)
        set_property(TARGET CtrlZ::CtrlZ APPEND PROPERTY
            INTERFACE_INCLUDE_DIRECTORIES "${CtrlZ_ONNXRUNTIME_INCLUDE_DIRS}"
        )
    endif()
    if(DEFINED CtrlZ_ONNXRUNTIME_LIBRARIES)
        set_property(TARGET CtrlZ::CtrlZ APPEND PROPERTY
            INTERFACE_LINK_LIBRARIES "${CtrlZ_ONNXRUNTIME_LIBRARIES}"
        )
    endif()
endif()

set(CtrlZ_FOUND TRUE)
# Note: CtrlZ is a CMake package config, not a Find module; imported targets are provided via CtrlZTargets.cmake.

